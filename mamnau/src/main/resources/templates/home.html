<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title th:text="${title} ?: 'M·∫ßm Xanh ‚Äî Ph√¢n h·ªØu c∆° t·ª´ v·ªè tr√°i c√¢y'">
    M·∫ßm Xanh ‚Äî Ph√¢n h·ªØu c∆° t·ª´ v·ªè tr√°i c√¢y
  </title>
  <meta name="description"
        th:content="${desc} ?: 'M·∫ßm Xanh: T√°i ch·∫ø v·ªè tr√°i c√¢y t·ª´ ch·ª£ th√†nh ph√¢n h·ªØu c∆° b·ªÅn v·ªØng cho v∆∞·ªùn nh√† v√† n√¥ng nghi·ªáp ƒë√¥ th·ªã.'"/>

  <link rel="icon"
        href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='0.9em' font-size='90'%3E%F0%9F%8C%B1%3C/text%3E%3C/svg%3E"/>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;600;700&display=swap" rel="stylesheet"/>

  <!-- CSS ch√≠nh -->
  <style>
    :root {
      --bg:#f7fbf7;--surface:#fff;--text:#243522;--muted:#5b6b57;
      --primary:#2e7d32;--primary-200:#a8d5b8;--accent:#6b4f3b;
      --accent-100:#efe5db;--ring:rgba(46,125,50,0.25);
      --shadow:0 10px 25px rgba(0,0,0,0.06);--radius:16px;--maxw:1140px;
    }
    *{box-sizing:border-box}html,body{margin:0;padding:0}
    body{font-family:"Be Vietnam Pro",system-ui,-apple-system,Segoe UI,Roboto,Arial,"Helvetica Neue",sans-serif;
      background:linear-gradient(180deg,var(--bg),#fff 40%,var(--accent-100));
      color:var(--text);line-height:1.6}
    a{color:inherit;text-decoration:none}
    .container{max-width:var(--maxw);margin:0 auto;padding:0 20px}

    /* NAVBAR */
    .nav{position:sticky;top:0;z-index:50;background:rgba(255,255,255,.85);
      backdrop-filter:saturate(180%) blur(10px);border-bottom:1px solid rgba(0,0,0,.06)}
    .nav-wrap{display:flex;align-items:center;justify-content:space-between;height:64px}
    .brand{display:flex;align-items:center;gap:10px;font-weight:700}
    .brand .logo{width:36px;height:36px;border-radius:10px;display:grid;place-items:center;
      background:conic-gradient(from 210deg,var(--primary-200),#d7eddc);box-shadow:var(--shadow)}
    .brand span{letter-spacing:.3px}
    .brand small{font-weight:600;color:var(--accent);margin-left:6px}
    .nav ul{list-style:none;display:flex;gap:22px;margin:0;padding:0}
    .nav a{font-weight:600;}.nav a:hover{color:var(--primary)}
    .cta{display:inline-flex;align-items:center;gap:10px;background:var(--primary);
      color:#fff;padding:10px 16px;border-radius:12px;box-shadow:0 8px 20px var(--ring)}
    .menu-btn{display:none;border:0;background:transparent;font-size:26px}

    /* HERO */
    .hero{padding:56px 0 24px}
    .hero-grid{display:grid;grid-template-columns:1.1fr .9fr;gap:40px;align-items:center}
    .badge{display:inline-flex;align-items:center;gap:10px;background:#e9f5ec;
      border:1px solid #d6ebdb;color:#2d5b31;padding:8px 12px;border-radius:999px;font-weight:600}
    .title{font-size:clamp(28px,5vw,46px);line-height:1.15;margin:14px 0}
    .subtitle{font-size:18px;color:var(--muted);max-width:60ch}
    .hero-actions{margin-top:24px;display:flex;gap:12px;flex-wrap:wrap}
    .ghost{border:2px solid var(--primary);color:var(--primary);background:transparent;
      padding:10px 16px;border-radius:12px;font-weight:700}
    .ghost:hover{background:#edf7ef}
    .hero-card{background:var(--surface);padding:22px;border-radius:var(--radius);
      box-shadow:var(--shadow);border:1px solid rgba(0,0,0,.06)}
    .hero-img{border-radius:12px;background:linear-gradient(135deg,#f1f5f2,#e5efe7 60%,#f9efe6);
      display:grid;place-items:center;color:var(--text);font-weight:700}

    /* SECTION */
    .section{padding:56px 0}
    .section h2{font-size:28px;margin:0 0 10px}
    .section p.lead{color:var(--muted);max-width:68ch;margin:0 0 24px}

    /* GRID */
    .grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
    .card{background:var(--surface);padding:18px;border-radius:16px;
      border:1px solid rgba(0,0,0,.06);box-shadow:var(--shadow)}
    .card h3{margin:6px 0;font-size:18px}
    .chip{display:inline-block;background:#f3efe9;color:#6b4f3b;
      padding:6px 10px;border-radius:999px;font-weight:600;font-size:12px}

    /* PRODUCT */
    .product{display:grid;grid-template-columns:1fr 1fr;gap:24px;align-items:center}
    .product .media{aspect-ratio:16/10;border-radius:14px;background:linear-gradient(180deg,#fff,#e9f2ea);
      border:1px solid rgba(0,0,0,.06);box-shadow:var(--shadow);display:grid;place-items:center}
    .list{display:grid;gap:10px;margin:6px 0}
    .li{display:flex;gap:10px;align-items:flex-start}.li i{font-weight:900}

    /* STEPS */
    .steps{display:grid;grid-template-columns:repeat(4,1fr);gap:14px}
    .step{background:var(--surface);padding:16px;border-radius:14px;border:1px solid rgba(0,0,0,.06)}
    .step .num{width:32px;height:32px;border-radius:8px;display:grid;place-items:center;
      background:#e8f4ea;color:#2e7d32;font-weight:800;margin-bottom:8px}

    /* QUOTE */
    .quote{background:linear-gradient(135deg,#ffffff,#f2f7f3);border:1px solid rgba(0,0,0,.06);
      padding:18px;border-radius:16px;display:grid;gap:6px}

    /* CTA BLOCK */
    .cta-block{background:linear-gradient(135deg,#eaf4ee,#fff);padding:24px;border-radius:18px;
      border:1px solid rgba(0,0,0,.06);display:flex;align-items:center;justify-content:space-between;gap:18px}
    .cta-block .actions{display:flex;gap:10px;flex-wrap:wrap}

    /* FOOTER */
    footer{background:#0e1a0f;color:#d7e3d7;margin-top:40px}
    .footer-wrap{display:grid;grid-template-columns:2fr 1fr 1fr;gap:20px;padding:28px 0}
    .footer-wrap a{color:#d7e3d7;opacity:.9}.footer-wrap a:hover{opacity:1}
    .copyright{border-top:1px solid rgba(255,255,255,.1);padding:16px 0;color:#a6b5a6;font-size:14px}

    /* RESPONSIVE */
    @media (max-width:960px){
      .hero-grid{grid-template-columns:1fr}
      .product{grid-template-columns:1fr}
      .steps{grid-template-columns:repeat(2,1fr)}
      .grid-3{grid-template-columns:1fr 1fr}
    }
    @media (max-width:680px){
      .nav ul{display:none;position:absolute;inset:64px 0 auto 0;background:#fff;
        border-bottom:1px solid rgba(0,0,0,.06);padding:16px 20px;flex-direction:column}
      .menu-btn{display:block}
      .steps{grid-template-columns:1fr}
      .grid-3{grid-template-columns:1fr}
      .cta-block{flex-direction:column;align-items:flex-start}
    }

    /*SIZE ·∫¢NH TRANG HOME*/
    .hero-card img {
      max-width: 100%;
      width: 430px;
      height: auto;
      border-radius: 12px;
      object-fit: cover;
    }
    .product .media img {
      padding: 0% 3%;
      max-width: 100%;
      width: 100%;
      height: 95%;
      border-radius: 14px;
      object-fit: cover;
      box-shadow: var(--shadow);
    }
    @media (max-width: 680px) {
      .hero-card img,
      .product .media img {
        width: 100%;
        max-width: 100%;
      }
    }

    /* ===== Scroll-reveal animation (gi·ªØ tone xanh) ===== */
    @media (prefers-reduced-motion: no-preference) {
      .reveal { opacity:0; transform: translateY(18px); will-change: opacity, transform; }
      .in-view .reveal { opacity:1; transform:none; transition:opacity .6s ease, transform .6s ease; }
      .card:hover { transform: translateY(-2px); transition: transform .2s ease; }
    }
  </style>
</head>
<body>
<!-- NAVBAR -->
<th:block th:replace="~{group5_template/navbar :: navbar}"></th:block>

<!-- HERO -->
<header class="hero observe">
  <div class="container hero-grid">
    <div>
      <span class="badge reveal">‚ôªÔ∏è T·ª´ v·ªè tr√°i c√¢y ·ªü ch·ª£ ‚Üí d∆∞·ª°ng ch·∫•t cho ƒë·∫•t</span>
      <h1 class="title reveal">
        <span th:text="${brandName}">M·∫ßm Xanh</span> cho ƒë·∫•t ‚Äì Tr√°i l√†nh cho ƒë·ªùi
      </h1>
      <p class="subtitle reveal">
        Ch√∫ng t√¥i t√°i ch·∫ø <strong>v·ªè tr√°i c√¢y v√† ph·ª• ph·∫©m rau c·ªß</strong> t·ª´ ch·ª£ th√†nh
        <strong>ph√¢n h·ªØu c∆° gi√†u dinh d∆∞·ª°ng</strong> cho v∆∞·ªùn nh√† v√† n√¥ng nghi·ªáp ƒë√¥ th·ªã. S·∫°ch, d·ªÖ d√πng, th√¢n thi·ªán m√¥i tr∆∞·ªùng.
      </p>
      <div class="hero-actions reveal">
        <a class="cta" href="#san-pham">Xem s·∫£n ph·∫©m</a>
        <a class="ghost" href="#quy-trinh">T√¨m hi·ªÉu quy tr√¨nh</a>
      </div>
    </div>
    <div class="hero-card reveal">
      <div class="hero-img">
        <img src="/img/anhhome.jpeg" alt="Ph√¢n h·ªØu c∆° M·∫ßm Xanh t·ª´ v·ªè tr√°i c√¢y">
      </div>
      <div class="list" style="margin-top:12px">
        <div class="li reveal"><i>‚úî</i> B·ªï sung m√πn, c·∫£i thi·ªán c·∫•u tr√∫c v√† ƒë·ªô t∆°i x·ªëp c·ªßa ƒë·∫•t</div>
        <div class="li reveal"><i>‚úî</i> Gi·∫£m r√°c h·ªØu c∆° t·ª´ ch·ª£, th√∫c ƒë·∫©y kinh t·∫ø tu·∫ßn ho√†n</div>
        <div class="li reveal"><i>‚úî</i> Ph√π h·ª£p rau gia ƒë√¨nh, c√¢y ki·ªÉng, th·∫£o m·ªôc, hoa</div>
      </div>
    </div>
  </div>
</header>

<!-- L·ª¢I √çCH -->
<section id="loi-ich" class="section observe">
  <div class="container">
    <h2 class="reveal">L·ª£i √≠ch n·ªïi b·∫≠t</h2>
    <p class="lead reveal">UI nh·∫π, s√°ng, k·ªÉ c√¢u chuy·ªán t√°i ch·∫ø v·ªè tr√°i c√¢y th√†nh gi√° tr·ªã cho ƒë·∫•t v√† c·ªông ƒë·ªìng.</p>
    <div class="grid-3">
      <article class="card reveal">
        <span class="chip">üåø Sinh h·ªçc</span>
        <h3>Gi√†u h·ªØu c∆°</h3>
        <p>B·ªï sung ch·∫•t h·ªØu c∆°, tƒÉng gi·ªØ ·∫©m, h·ªó tr·ª£ h·ªá vi sinh v·∫≠t c√≥ l·ª£i trong ƒë·∫•t.</p>
      </article>
      <article class="card reveal">
        <span class="chip">üçä V·ªè tr√°i c√¢y</span>
        <h3>T·∫≠n d·ª•ng ph·ª• ph·∫©m ch·ª£</h3>
        <p>Thu gom v·ªè cam, chu·ªëi, d·ª©a‚Ä¶ gi·∫£m t·∫£i r√°c h·ªØu c∆°, t√°i sinh v√≤ng ƒë·ªùi t√†i nguy√™n.</p>
      </article>
      <article class="card reveal">
        <span class="chip">üõ†Ô∏è Ti·ªán d·ª•ng</span>
        <h3>D·ªÖ d√πng t·∫°i nh√†</h3>
        <p>D·∫°ng h·∫°t/vi√™n/ƒë·∫•t tr·ªôn, s·∫°ch tay, m√πi nh·∫π, ph√π h·ª£p kh√¥ng gian nh·ªè.</p>
      </article>
    </div>
  </div>
</section>

<!-- S·∫¢N PH·∫®M -->
<section id="san-pham" class="section observe">
  <div class="container product" th:if="${#lists.isEmpty(products) == false}">
    <div class="media reveal">
      <img src="/img/spminhhoa.png" alt="·∫¢nh g√≥i ph√¢n h·ªØu c∆° M·∫ßm Xanh t·ª´ v·ªè tr√°i c√¢y">
    </div>
    <div>
      <h2 class="reveal">S·∫£n ph·∫©m M·∫ßm Xanh</h2>
      <div class="list" th:each="p : ${products}">
        <div class="li reveal">
          <i>‚Ä¢</i> <strong th:text="${p.name}">T√™n s·∫£n ph·∫©m</strong>
          ‚Äî <span th:text="${p.price}">100000</span> VND
        </div>
        <div class="li reveal" th:if="${p.shortDesc}">
          <i>‚Ä¢</i> <span th:text="${p.shortDesc}">M√¥ t·∫£ ng·∫Øn‚Ä¶</span>
        </div>
        <div class="li reveal">
          <a class="ghost" th:href="@{'/san-pham/' + ${p.slug}}">Xem chi ti·∫øt ‚Üí</a>
        </div>
        <hr/>
      </div>
    </div>
  </div>
</section>

<!-- QUY TR√åNH -->
<section id="quy-trinh" class="section observe">
  <div class="container">
    <h2 class="reveal">Quy tr√¨nh M·∫ßm Xanh</h2>
    <p class="lead reveal">Minh b·∫°ch t·ª´ ngu·ªìn v·ªè tr√°i c√¢y ·ªü ch·ª£ ƒë·∫øn th√†nh ph·∫©m an to√†n.</p>
    <div class="steps">
      <div class="step reveal"><div class="num">1</div><strong>Thu gom</strong><br/><small>H·ª£p t√°c ti·ªÉu th∆∞∆°ng ch·ª£; ph√¢n lu·ªìng r√°c t·∫°i ngu·ªìn.</small></div>
      <div class="step reveal"><div class="num">2</div><strong>S∆° tuy·ªÉn & l√†m s·∫°ch</strong><br/><small>Lo·∫°i t·∫°p, √©p/gi·∫£m ·∫©m, ki·ªÉm so√°t m√πi.</small></div>
      <div class="step reveal"><div class="num">3</div><strong>·ª¶ hi·∫øu kh√≠ & ph·ªëi tr·ªôn</strong><br/><small>K·∫øt h·ª£p ph·ª• li·ªáu h·ªØu c∆° an to√†n t·∫°o m√πn ·ªïn ƒë·ªãnh.</small></div>
      <div class="step reveal"><div class="num">4</div><strong>ƒê√≥ng g√≥i & truy xu·∫•t</strong><br/><small>Ki·ªÉm ƒë·ªãnh l√¥, c√¢n n·∫∑ng, th√¥ng tin ngu·ªìn g·ªëc.</small></div>
    </div>
  </div>
</section>

<!-- STORY -->
<section class="section observe" aria-labelledby="story">
  <div class="container">
    <h2 id="story" class="reveal">C√¢u chuy·ªán M·∫ßm Xanh</h2>
    <div class="quote reveal">
      <p><em>‚ÄúT·ª´ v·ªè tr√°i c√¢y b·ªã b·ªè qu√™n ·ªü ch·ª£, ch√∫ng t√¥i gieo m·∫ßm xanh m·ªõi cho ƒë·∫•t. M·ªói g√≥i ph√¢n h·ªØu c∆° l√† m·ªôt b∆∞·ªõc nh·ªè gi·∫£m r√°c v√† nu√¥i d∆∞·ª°ng khu v∆∞·ªùn Vi·ªát.‚Äù</em></p>
      <small>‚Äî Nh√≥m d·ª± √°n M·∫ßm Xanh</small>
    </div>
  </div>
</section>

<!-- CTA -->
<section class="section observe" id="lien-he">
  <div class="container cta-block reveal">
    <div class="reveal">
      <h3>Li√™n h·ªá & d√πng th·ª≠</h3>
      <p class="lead">ƒê·ªÉ l·∫°i email, ch√∫ng t√¥i s·∫Ω g·ª≠i b·ªô d√πng th·ª≠ v√† ∆∞u ƒë√£i s·ªõm cho s·∫£n ph·∫©m ‚Äúv·ªè tr√°i c√¢y ‚Üí ph√¢n h·ªØu c∆°‚Äù.</p>
    </div>
    <form class="actions reveal" id="ctaForm" onsubmit="return false;">
      <input id="email" name="email" type="email" placeholder="Email c·ªßa b·∫°n" required
             style="padding:12px 14px;border-radius:12px;border:1px solid #cfe4d2;min-width:240px;"/>
      <button class="cta" id="signupBtn" type="submit">ƒêƒÉng k√Ω</button>
      <small id="ctaMsg" style="margin-left:12px;color:#2e7d32" aria-live="polite"></small>
    </form>
  </div>
</section>

<!-- FOOTER -->
<th:block th:replace="~{group5_template/footer :: footer}"></th:block>

<script>
  // menu mobile
  const menuBtn = document.getElementById("menuBtn");
  const navMenu = document.getElementById("navMenu");
  menuBtn?.addEventListener("click", () => {
    const visible = getComputedStyle(navMenu).display !== "none";
    navMenu.style.display = visible ? "none" : "flex";
  });

  // nƒÉm footer
  const y = document.getElementById("year"); if (y) y.textContent = new Date().getFullYear();

  // ==== Scroll reveal with IntersectionObserver (stagger) ====
  (function () {
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;

    const sections = document.querySelectorAll('.observe');
    const io = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const el = entry.target;
          el.classList.add('in-view');

          // stagger c√°c ph·∫ßn t·ª≠ .reveal b√™n trong
          const children = el.querySelectorAll('.reveal');
          children.forEach((c, i) => {
            c.style.transitionDelay = `${Math.min(i * 80, 600)}ms`;
          });

          io.unobserve(el); // ch·ªâ reveal 1 l·∫ßn
        }
      })
    }, { threshold: 0.15 });

    sections.forEach(s => io.observe(s));
  })();

  // CTA form
  (function () {
    const form = document.getElementById('ctaForm');
    const input = document.getElementById('email');
    const btn = document.getElementById('signupBtn');
    const msg = document.getElementById('ctaMsg');

    function show(text, ok=true){
      msg.textContent = text;
      msg.style.color = ok ? '#2e7d32' : '#b00020';
    }

    form.addEventListener('submit', async () => {
      const email = (input.value || '').trim();
      if (!email) { show('Vui l√≤ng nh·∫≠p email', false); input.focus(); return; }

      // Ki·ªÉm tra ƒë·ªãnh d·∫°ng ƒë∆°n gi·∫£n ph√≠a client
      if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
        show('Email ch∆∞a ƒë√∫ng ƒë·ªãnh d·∫°ng', false); input.focus(); return;
      }

      btn.disabled = true; btn.textContent = 'ƒêang g·ª≠i...'; show('');

      try {
        const res = await fetch('/api/newsletter-signup', {
          method: 'POST',
          headers: {'Content-Type':'application/json'},
          body: JSON.stringify({ email })
        });
        const data = await res.json().catch(()=>({ok:false, error:'L·ªói ph·∫£n h·ªìi'}));
        if (res.ok && data.ok) {
          show('ƒê√£ nh·∫≠n email! Ch√∫ng t√¥i s·∫Ω g·ª≠i th√¥ng tin d√πng th·ª≠ s·ªõm nh·∫•t.');
          btn.textContent = 'ƒê√£ ƒëƒÉng k√Ω'; btn.disabled = true;
          input.value = '';
        } else {
          show(data.error || 'G·ª≠i th·∫•t b·∫°i. Vui l√≤ng th·ª≠ l·∫°i sau.', false);
          btn.textContent = 'ƒêƒÉng k√Ω'; btn.disabled = false;
        }
      } catch (e) {
        show('M·∫°ng kh√¥ng ·ªïn. Th·ª≠ l·∫°i nh√©.', false);
        btn.textContent = 'ƒêƒÉng k√Ω'; btn.disabled = false;
      }
    });
  })();
</script>
</body>
</html>
